# TIL (2025-09-29)



## 🧨 Learned


### [SQL] : [[level 4] 입양 시각 구하기(2) - 59413](https://github.com/Lim-git1/NBC_Data_9th/tree/main/%F0%9F%90%A2codekata/MySQL/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/4/59413.%E2%80%85%EC%9E%85%EC%96%91%E2%80%85%EC%8B%9C%EA%B0%81%E2%80%85%EA%B5%AC%ED%95%98%EA%B8%B0%EF%BC%882%EF%BC%89)
```sql
# 0부터 23까지의 시간(h)을 생성하는 재귀 CTE 
WITH RECURSIVE hours AS (
     SELECT 0 AS hour 
     UNION ALL 
     SELECT hour + 1 
     FROM hours 
     WHERE hour < 23 )

SELECT h.hour, count(a.datetime) COUNT
FROM hours h LEFT JOIN animal_outs a
ON hour(a.datetime) = h.hour
GROUP BY HOUR
ORDER BY HOUR
```

1.
- 주어진 데이터의 시간은 7-19
- 문제에서 요구한 시간은 0-23</br>
   → 0-23 의 데이터만 갖고있는 간이 테이블을 생성해서 JOIN 시키자!</br>

2.
- 재귀 CTE을 반복문처럼 활용하여 테이블 생성
  - `WITH RECURSIVE hours As ( ... )`</br>

3.
- 기존 테이블과 CTE 테이블에 변수명을 똑같이 작성했으니, 유의하며 본쿼리 작성
- 이때, `SELECT`절에서 `count(a.name)`으로 작성했을땐 논패스가 뜨고 `count(a.datetime)`은 패스됨. why?
- `where a.name is null`로 null값 존재여부를 확인했으나 없었음. 대체 why?

4.
- 문제에서 줬던 설명을 보니 `NAME`은 `Nullable TRUE`
  ![Nullable](../../images/screenshot%202025-09-29%20오전%2010.26.23.png)

- 해당 데이터에서는 우연하게 Null이 없었으나 충분히 있을 수 있는 컬럼이기 때문에 논패스가 뜬 것!
- 결론: 데이터 설명도 유의해서 읽자..
  

</br></br>
## ⛳️ Liked

- 꽤나 오래 붙잡혀있던 통계 정리를 (1차이지만) 마무리했다.

</br></br>

## ⚠️ Lacked

- 머신러닝 공부 방향을 어떻게 잡아야할지 아직 갈피가 안 잡힌다.
  
</br></br>

## ⏳ Longed for

- 밥 챙겨먹기
